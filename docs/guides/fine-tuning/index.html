
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Got 文档">
      
      
        <meta name="author" content="OpenAI">
      
      
        <link rel="canonical" href="https://wdk-docs.github.io/openai-docs/guides/fine-tuning/">
      
      <link rel="icon" href="../../assets/favicons/favicon.svg">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>微调 - OpenAI 文档</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="OpenAI 文档" class="md-header__button md-logo" aria-label="OpenAI 文档" data-md-component="logo">
      
  <img src="../../assets/logos/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OpenAI 文档
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              微调
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/wdk-docs/openai-docs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    wdk-docs/openai-docs
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        首页
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        引导
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../api-reference/" class="md-tabs__link">
        API
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../price/" class="md-tabs__link">
        价格
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../prompts/" class="md-tabs__link">
        工具
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="OpenAI 文档" class="md-nav__button md-logo" aria-label="OpenAI 文档" data-md-component="logo">
      
  <img src="../../assets/logos/logo.svg" alt="logo">

    </a>
    OpenAI 文档
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/wdk-docs/openai-docs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    wdk-docs/openai-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../..">首页</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="首页" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          首页
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../introduction/" class="md-nav__link">
        介绍
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        快速入门
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/" class="md-nav__link">
        库
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../models/" class="md-nav__link">
        模型
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/" class="md-nav__link">
        教程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data-usage-policies/" class="md-nav__link">
        API data usage policies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage-policies/" class="md-nav__link">
        Usage policies
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">引导</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="引导" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          引导
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../completion/" class="md-nav__link">
        文本补全
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../editing-code/" class="md-nav__link">
        代码补全
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../chat/" class="md-nav__link">
        聊天补全
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../images/" class="md-nav__link">
        图像生成
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          微调
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        微调
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    简介
  </a>
  
    <nav class="md-nav" aria-label="简介">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    哪些模型可以微调?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    安装
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    准备培训数据
  </a>
  
    <nav class="md-nav" aria-label="准备培训数据">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cli" class="md-nav__link">
    CLI 数据准备工具
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    创建一个微调模型
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    使用经过微调的模型
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    删除一个经过微调的模型
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    准备数据集
  </a>
  
    <nav class="md-nav" aria-label="准备数据集">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    数据格式
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    一般最佳实践
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    具体的指导
  </a>
  
    <nav class="md-nav" aria-label="具体的指导">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    分类
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    案例研究:模型是否做了不真实的陈述?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case-study-sentiment-analysis" class="md-nav__link">
    Case study: Sentiment analysis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case-study-categorization-for-email-triage" class="md-nav__link">
    Case study: Categorization for Email triage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conditional-generation" class="md-nav__link">
    Conditional generation
  </a>
  
    <nav class="md-nav" aria-label="Conditional generation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#case-study-write-an-engaging-ad-based-on-a-wikipedia-article" class="md-nav__link">
    Case study: Write an engaging ad based on a Wikipedia article
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case-study-entity-extraction" class="md-nav__link">
    Case study: Entity extraction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case-study-customer-support-chatbot" class="md-nav__link">
    Case study: Customer support chatbot
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-usage" class="md-nav__link">
    Advanced usage
  </a>
  
    <nav class="md-nav" aria-label="Advanced usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#customize-your-model-name" class="md-nav__link">
    Customize your model name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#analyzing-your-fine-tuned-model" class="md-nav__link">
    Analyzing your fine-tuned model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification-specific-metrics" class="md-nav__link">
    Classification specific metrics
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for-multiclass-classification" class="md-nav__link">
    For multiclass classification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for-binary-classification" class="md-nav__link">
    For binary classification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validation" class="md-nav__link">
    Validation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hyperparameters" class="md-nav__link">
    Hyperparameters
  </a>
  
    <nav class="md-nav" aria-label="Hyperparameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#continue-fine-tuning-from-a-fine-tuned-model" class="md-nav__link">
    Continue fine-tuning from a fine-tuned model
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-notebooks" class="md-nav__link">
    Example notebooks
  </a>
  
    <nav class="md-nav" aria-label="Example notebooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#classification" class="md-nav__link">
    Classification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#question-answering" class="md-nav__link">
    Question answering
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../embedding/" class="md-nav__link">
        嵌入
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../speech-to-text/" class="md-nav__link">
        语音转文本
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../moderation/" class="md-nav__link">
        适度
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rate-limits/" class="md-nav__link">
        速率限制
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../error-codes/" class="md-nav__link">
        错误代码
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../safety-best-practices/" class="md-nav__link">
        安全最佳实践
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../production-best-practices/" class="md-nav__link">
        生产最佳实践
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api-reference/">API</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="API" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/introduction/" class="md-nav__link">
        介绍
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/authentication/" class="md-nav__link">
        认证
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/making-requests/" class="md-nav__link">
        发出请求
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/models/" class="md-nav__link">
        模型
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/completions/" class="md-nav__link">
        补全
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/chat/" class="md-nav__link">
        聊天
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/edits/" class="md-nav__link">
        Edits
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/images/" class="md-nav__link">
        图像
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/embeddings/" class="md-nav__link">
        嵌入
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/audio/" class="md-nav__link">
        音频
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/files/" class="md-nav__link">
        文件
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/fine-tunes/" class="md-nav__link">
        微调
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/moderations/" class="md-nav__link">
        适度
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/engines/" class="md-nav__link">
        引擎(弃)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/parameter-details/" class="md-nav__link">
        参数细节
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4">
          价格
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="价格" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          价格
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../price/" class="md-nav__link">
        定价
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5">
          工具
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="工具" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          工具
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../prompts/" class="md-nav__link">
        提示语
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tags/" class="md-nav__link">
        标签
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    简介
  </a>
  
    <nav class="md-nav" aria-label="简介">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    哪些模型可以微调?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    安装
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    准备培训数据
  </a>
  
    <nav class="md-nav" aria-label="准备培训数据">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cli" class="md-nav__link">
    CLI 数据准备工具
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    创建一个微调模型
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    使用经过微调的模型
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    删除一个经过微调的模型
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    准备数据集
  </a>
  
    <nav class="md-nav" aria-label="准备数据集">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    数据格式
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    一般最佳实践
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    具体的指导
  </a>
  
    <nav class="md-nav" aria-label="具体的指导">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    分类
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    案例研究:模型是否做了不真实的陈述?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case-study-sentiment-analysis" class="md-nav__link">
    Case study: Sentiment analysis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case-study-categorization-for-email-triage" class="md-nav__link">
    Case study: Categorization for Email triage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conditional-generation" class="md-nav__link">
    Conditional generation
  </a>
  
    <nav class="md-nav" aria-label="Conditional generation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#case-study-write-an-engaging-ad-based-on-a-wikipedia-article" class="md-nav__link">
    Case study: Write an engaging ad based on a Wikipedia article
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case-study-entity-extraction" class="md-nav__link">
    Case study: Entity extraction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case-study-customer-support-chatbot" class="md-nav__link">
    Case study: Customer support chatbot
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-usage" class="md-nav__link">
    Advanced usage
  </a>
  
    <nav class="md-nav" aria-label="Advanced usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#customize-your-model-name" class="md-nav__link">
    Customize your model name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#analyzing-your-fine-tuned-model" class="md-nav__link">
    Analyzing your fine-tuned model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification-specific-metrics" class="md-nav__link">
    Classification specific metrics
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for-multiclass-classification" class="md-nav__link">
    For multiclass classification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for-binary-classification" class="md-nav__link">
    For binary classification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validation" class="md-nav__link">
    Validation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hyperparameters" class="md-nav__link">
    Hyperparameters
  </a>
  
    <nav class="md-nav" aria-label="Hyperparameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#continue-fine-tuning-from-a-fine-tuned-model" class="md-nav__link">
    Continue fine-tuning from a fine-tuned model
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-notebooks" class="md-nav__link">
    Example notebooks
  </a>
  
    <nav class="md-nav" aria-label="Example notebooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#classification" class="md-nav__link">
    Classification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#question-answering" class="md-nav__link">
    Question answering
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  



  <a href="https://github.com/wdk-docs/openai-docs/edit/master/content/guides/fine-tuning.md" title="编辑此页" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="_1">微调<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<p>了解如何为您的应用程序定制模型。</p>
<h2 id="_2">简介<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>微调可以让你从 API 提供的模型中获得更多:</p>
<ol>
<li>高质量的结果比及时的设计</li>
<li>能够训练更多的例子，超过可以在提示</li>
<li>由于更短的提示，令牌节省</li>
<li>低延迟请求</li>
</ol>
<p>GPT-3 已经在来自开放互联网的大量文本上进行了预训练。
当给出一个只有几个例子的提示时，它通常可以凭直觉判断出你要执行的任务，并生成一个合理的完成结果。
这通常被称为“几次学习”。</p>
<p>通过对比提示中适合的更多的示例进行训练，微调改进了少数镜头学习，让您在大量任务中获得更好的结果。
一旦对模型进行了微调，就不再需要在提示符中提供示例了。
这节省了成本并支持较低的延迟请求。</p>
<p>在高层次上，微调包括以下步骤:</p>
<ol>
<li>准备和上传培训数据</li>
<li>训练一个新的微调模型</li>
<li>使用您的微调模型</li>
</ol>
<p>访问我们的定价页面，了解更多关于微调模型训练和使用是如何计费的。</p>
<h3 id="_3">哪些模型可以微调?<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>微调目前只适用于以下基本模型:davinci, curie, babbage, and ada.
这些是原始模型，在训练之后没有任何指令(例如 text-davinci-003)。
您还可以继续对已调优的模型进行微调，以添加额外的数据，而不必从头开始。</p>
<h3 id="_4">安装<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>我们建议使用 OpenAI 命令行界面(CLI)。要安装此程序，请运行</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>pip install --upgrade openai
</code></pre></div></td></tr></table></div>
<p>(以下说明适用于 0.9.4 及更高版本。另外，OpenAI CLI 需要 python 3。)</p>
<p>通过在你的 shell 初始化脚本(例如 .bashrc, .zshrc 等)中添加以下行来设置你的 OPENAI_API_KEY 环境变量，或者在调优命令之前在命令行中运行它:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="nb">export</span> <span class="nv">OPENAI_API_KEY</span><span class="o">=</span><span class="s2">&quot;&lt;OPENAI_API_KEY&gt;&quot;</span>
</code></pre></div></td></tr></table></div>
<h3 id="_5">准备培训数据<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>训练数据是你如何教 GPT-3 你想让它说什么。</p>
<p>您的数据必须是 JSONL 文档，其中每一行都是对应于一个训练示例的提示-补全对。
您可以使用我们的 CLI 数据准备工具轻松地将数据转换为这种文件格式。</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span>
<span class="normal"><a href="#__codelineno-2-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="o">{</span><span class="s2">&quot;prompt&quot;</span>: <span class="s2">&quot;&lt;prompt text&gt;&quot;</span>, <span class="s2">&quot;completion&quot;</span>: <span class="s2">&quot;&lt;ideal generated text&gt;&quot;</span><span class="o">}</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="o">{</span><span class="s2">&quot;prompt&quot;</span>: <span class="s2">&quot;&lt;prompt text&gt;&quot;</span>, <span class="s2">&quot;completion&quot;</span>: <span class="s2">&quot;&lt;ideal generated text&gt;&quot;</span><span class="o">}</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="o">{</span><span class="s2">&quot;prompt&quot;</span>: <span class="s2">&quot;&lt;prompt text&gt;&quot;</span>, <span class="s2">&quot;completion&quot;</span>: <span class="s2">&quot;&lt;ideal generated text&gt;&quot;</span><span class="o">}</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>...
</code></pre></div></td></tr></table></div>
<p>设计用于微调的提示符和补全与设计用于基本模型(Davinci, Curie, Babbage, Ada)的提示符不同。
特别是，虽然基本模型的提示通常由多个示例组成(“少镜头学习”)，但为了进行微调，每个训练示例通常由单个输入示例及其相关输出组成，而不需要给出详细的说明或在同一提示中包含多个示例。</p>
<p>有关如何为各种任务准备训练数据的更详细指导，请参阅我们的准备数据集最佳实践。</p>
<p>训练的例子越多越好。我们建议至少有几百个例子。一般来说，我们发现数据集大小每增加一倍，就会导致模型质量的线性增长。</p>
<h4 id="cli">CLI 数据准备工具<a class="headerlink" href="#cli" title="Permanent link">&para;</a></h4>
<p>我们开发了一个工具，可以验证、提供建议并重新格式化您的数据:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a>openai tools fine_tunes.prepare_data -f &lt;LOCAL_FILE&gt;
</code></pre></div></td></tr></table></div>
<p>该工具接受不同的格式，唯一的要求是它们包含提示符和完成列/键。
您可以传递一个 CSV、TSV、XLSX、JSON 或 JSONL 文件，在指导您完成建议的更改过程后，它会将输出保存到一个 JSONL 文件中，以便进行微调。</p>
<h3 id="_6">创建一个微调模型<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p>下面假设你已经按照上面的说明准备好了训练数据。</p>
<p>使用 OpenAI 命令行开始你的调优工作:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a>openai api fine_tunes.create -t &lt;TRAIN_FILE_ID_OR_PATH&gt; -m &lt;BASE_MODEL&gt;
</code></pre></div></td></tr></table></div>
<p>其中 BASE_MODEL 是您开始的基本模型的名称(ada, babbage, curie 或 davinci)。
您可以使用 suffix 参数自定义经过微调的模型的名称。</p>
<p>运行上面的命令会做几件事:</p>
<ol>
<li>使用 files API 上传文件(或使用已经上传的文件)</li>
<li>创建微调作业</li>
<li>流事件直到作业完成(这通常需要几分钟，但如果队列中有很多作业或数据集很大，则可能需要几个小时)</li>
</ol>
<p>每个微调工作都从一个基本模型开始，默认为 curie 模型。
模型的选择既影响模型的性能，也影响运行经过微调的模型的成本。
你的模型可以是 ada, babbage, curie, or davinci。
请访问我们的定价页面了解微调费率的详细信息。</p>
<p>在开始一项微调工作之后，可能需要一些时间才能完成。
你的作业可能排在我们系统上其他作业的后面，训练我们的模型可能需要几分钟或几小时，这取决于模型和数据集大小。
如果事件流因任何原因中断，您可以通过运行以下命令恢复它:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a>openai api fine_tunes.follow -i &lt;YOUR_FINE_TUNE_JOB_ID&gt;
</code></pre></div></td></tr></table></div>
<p>当工作完成时，它应该显示经过微调的模型的名称。</p>
<p>除了创建微调作业外，您还可以列出现有作业、检索作业的状态或取消作业。</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-6-10">10</a></span>
<span class="normal"><a href="#__codelineno-6-11">11</a></span>
<span class="normal"><a href="#__codelineno-6-12">12</a></span>
<span class="normal"><a href="#__codelineno-6-13">13</a></span>
<span class="normal"><a href="#__codelineno-6-14">14</a></span>
<span class="normal"><a href="#__codelineno-6-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="c1"># List all created fine-tunes</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a>openai api fine_tunes.list
<a id="__codelineno-6-4" name="__codelineno-6-4"></a>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="c1"># Retrieve the state of a fine-tune. The resulting object includes</span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="c1"># job status (which can be one of pending, running, succeeded, or failed)</span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="c1"># and other information</span>
<a id="__codelineno-6-10" name="__codelineno-6-10"></a>
<a id="__codelineno-6-11" name="__codelineno-6-11"></a>openai api fine_tunes.get -i &lt;YOUR_FINE_TUNE_JOB_ID&gt;
<a id="__codelineno-6-12" name="__codelineno-6-12"></a>
<a id="__codelineno-6-13" name="__codelineno-6-13"></a><span class="c1"># Cancel a job</span>
<a id="__codelineno-6-14" name="__codelineno-6-14"></a>
<a id="__codelineno-6-15" name="__codelineno-6-15"></a>openai api fine_tunes.cancel -i &lt;YOUR_FINE_TUNE_JOB_ID&gt;
</code></pre></div></td></tr></table></div>
<h3 id="_7">使用经过微调的模型<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<p>当作业成功时，fine_tuned_model 字段将填充模型的名称。现在你可以将这个模型指定为 Completions API 的参数，并使用 Playground 向它发出请求。</p>
<p>在您的任务第一次完成后，您的模型可能需要几分钟才能准备好处理请求。如果对模型的完成请求超时，很可能是因为模型仍在加载中。如果发生这种情况，几分钟后再试一次。</p>
<p>你可以通过传递模型名作为完成请求的模型参数来开始请求:</p>
<p>OpenAI CLI:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a>openai api completions.create -m &lt;FINE_TUNED_MODEL&gt; -p &lt;YOUR_PROMPT&gt;
</code></pre></div></td></tr></table></div>
<p>cURL:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span>
<span class="normal"><a href="#__codelineno-8-3">3</a></span>
<span class="normal"><a href="#__codelineno-8-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a>curl https://api.openai.com/v1/completions <span class="se">\</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a> -H <span class="s2">&quot;Authorization: Bearer </span><span class="nv">$OPENAI_API_KEY</span><span class="s2">&quot;</span> <span class="se">\</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a> -H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a> -d <span class="s1">&#39;{&quot;prompt&quot;: YOUR_PROMPT, &quot;model&quot;: FINE_TUNED_MODEL}&#39;</span>
</code></pre></div></td></tr></table></div>
<p>Python:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="kn">import</span> <span class="nn">openai</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="n">openai</span><span class="o">.</span><span class="n">Completion</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="n">model</span><span class="o">=</span><span class="n">FINE_TUNED_MODEL</span><span class="p">,</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="n">prompt</span><span class="o">=</span><span class="n">YOUR_PROMPT</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>Node.js:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span>
<span class="normal"><a href="#__codelineno-10-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">openai</span><span class="p">.</span><span class="nx">createCompletion</span><span class="p">({</span><span class="w"></span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="nx">model</span><span class="o">:</span><span class="w"> </span><span class="nx">FINE_TUNED_MODEL</span><span class="w"></span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="nx">prompt</span><span class="o">:</span><span class="w"> </span><span class="nx">YOUR_PROMPT</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="p">});</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>你可以继续使用所有其他的 Completions 参数，比如 temperature, frequency_penalty, presence_penalty 等，对这些请求进行微调模型。</p>
<h3 id="_8">删除一个经过微调的模型<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p>要删除一个经过微调的模型，您必须在组织中指定一个“所有者”。</p>
<p>OpenAI CLI:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a>openai api models.delete -i &lt;FINE_TUNED_MODEL&gt;
</code></pre></div></td></tr></table></div>
<p>cURL:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span>
<span class="normal"><a href="#__codelineno-12-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a>curl -X <span class="s2">&quot;DELETE&quot;</span> https://api.openai.com/v1/models/&lt;FINE_TUNED_MODEL&gt; <span class="se">\</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a> -H <span class="s2">&quot;Authorization: Bearer </span><span class="nv">$OPENAI_API_KEY</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
<p>Python:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="kn">import</span> <span class="nn">openai</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="n">openai</span><span class="o">.</span><span class="n">Model</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">FINE_TUNED_MODEL</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h2 id="_9">准备数据集<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<p>微调是创建特定于用例的新模型的强大技术。在对您的模型进行微调之前，我们强烈建议您阅读以下用例的最佳实践和具体指南。</p>
<h3 id="_10">数据格式<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p>要对模型进行微调，您需要一组训练示例，每个示例由单个输入(“提示”)及其相关输出(“完成”)组成。这与使用我们的基本模型明显不同，在基本模型中，您可以在一个提示符中输入详细的说明或多个示例。</p>
<ul>
<li>每个提示符应该以一个固定的分隔符结束，以通知模型提示符何时结束和完成开始。一个简单的分离器通常工作得很好是<code>\n\n###\n\n</code>。分隔符不应该出现在任何提示符的其他地方。</li>
<li>由于我们的标记化，每个补全都应该以空白开始，标记化大多数单词之前都有空白。</li>
<li>每个补全应该以固定的停止序列结束，以便在补全结束时通知模型。停止序列可以是<code>\n</code>、<code>###</code>或任何不出现在任何补全中的其他标记。</li>
</ul>
<p>对于推断，您应该按照与创建训练数据集时相同的方式格式化提示，包括相同的分隔符。还要指定相同的停止序列以正确地截断补全。</p>
<h3 id="_11">一般最佳实践<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<p>使用更多高质量的示例进行微调效果更好。要对模型进行微调，使其比使用我们的基本模型的高质量提示执行得更好，您应该至少提供几百个高质量示例，最好是由人类专家审查。从这里开始，性能会随着示例数量每增加一倍而线性增加。增加示例的数量通常是提高性能的最佳和最可靠的方法。</p>
<p>分类器是最容易入门的模型。对于分类问题，我们建议使用 ada，它在经过微调后的表现通常只比更有能力的模型差一点点，同时速度更快，成本更低。</p>
<p>如果您正在对已有的数据集进行微调，而不是从头开始编写提示，请务必在可能的情况下手动检查数据中的冒犯性或不准确内容，或者在数据集很大的情况下检查尽可能多的随机样本。</p>
<h3 id="_12">具体的指导<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p>微调可以解决各种各样的问题，使用它的最佳方式可能取决于您的特定用例。下面，我们列出了用于微调的最常见用例和相应的指导方针。</p>
<ul>
<li>
<p>分类</p>
<ul>
<li>模特是否做了不真实的陈述?</li>
<li>情绪分析</li>
<li>电子邮件分类</li>
</ul>
</li>
<li>
<p>有条件的代</p>
<ul>
<li>根据维基百科上的文章写一个吸引人的广告</li>
<li>实体提取</li>
<li>客户支持聊天机器人</li>
<li>基于技术特性表的产品描述</li>
</ul>
</li>
</ul>
<h4 id="_13">分类<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h4>
<p>在分类问题中，提示符中的每个输入都应该被分类到预定义的类中。对于这类问题，我们建议:</p>
<ul>
<li>在提示符的末尾使用分隔符，例如<code>\n\n###\n\n</code>。记住，当你最终向你的模型发出请求时，也要附加这个分隔符。</li>
<li>选择映射到单个令牌的类。在推理时，指定 max_tokens=1，因为您只需要第一个标记进行分类。</li>
<li>确保提示符+补全不超过 2048 个令牌，包括分隔符</li>
<li>目标是每类至少 100 个例子</li>
<li>要获得类日志概率，您可以在使用模型时指定 logprobs=5(用于 5 个类)</li>
<li>确保用于微调的数据集在结构和任务类型上与将用于模型的数据集非常相似</li>
</ul>
<h4 id="_14">案例研究:模型是否做了不真实的陈述?<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h4>
<p>假设你想确保你网站上的广告文本提到了正确的产品和公司。换句话说，您希望确保模型没有编造任何东西。你可能想要微调一个分类器来过滤掉不正确的广告。</p>
<p>数据集可能看起来像下面这样:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span>
<span class="normal"><a href="#__codelineno-14-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a>{&quot;prompt&quot;:&quot;Company: BHFF insurance\nProduct: allround insurance\nAd:One stop shop for all your insurance needs!\nSupported:&quot;, &quot;completion&quot;:&quot; yes&quot;}
<a id="__codelineno-14-2" name="__codelineno-14-2"></a>{&quot;prompt&quot;:&quot;Company: Loft conversion specialists\nProduct: -\nAd:Straight teeth in weeks!\nSupported:&quot;, &quot;completion&quot;:&quot; no&quot;}
</code></pre></div></td></tr></table></div>
<p>在上面的例子中，我们使用了一个包含公司名称、产品和相关广告的结构化输入。我们使用<code>\nSupported:</code>作为分隔符，它清楚地将提示符与完成符分开。对于足够多的示例，只要分隔符不出现在提示符或完成符中，分隔符就不会产生太大的差异(通常小于 0.4%)。</p>
<p>对于这个用例，我们对 ada 模型进行了微调，因为它将更快、更便宜，并且性能将与大型模型相当，因为它是一个分类任务。</p>
<p>现在我们可以通过完成请求来查询我们的模型。</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span>
<span class="normal"><a href="#__codelineno-15-3">3</a></span>
<span class="normal"><a href="#__codelineno-15-4">4</a></span>
<span class="normal"><a href="#__codelineno-15-5">5</a></span>
<span class="normal"><a href="#__codelineno-15-6">6</a></span>
<span class="normal"><a href="#__codelineno-15-7">7</a></span>
<span class="normal"><a href="#__codelineno-15-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a>curl https://api.openai.com/v1/completions <span class="se">\</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a> -H <span class="s1">&#39;Content-Type: application/json&#39;</span> <span class="se">\</span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a> -H <span class="s1">&#39;Authorization: Bearer YOUR_API_KEY&#39;</span> <span class="se">\</span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a> -d <span class="s1">&#39;{</span>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a><span class="s1">&quot;prompt&quot;: &quot;Company: Reliable accountants Ltd\nProduct: Personal Tax help\nAd:Best advice in town!\nSupported:&quot;,</span>
<a id="__codelineno-15-6" name="__codelineno-15-6"></a><span class="s1">&quot;max_tokens&quot;: 1,</span>
<a id="__codelineno-15-7" name="__codelineno-15-7"></a><span class="s1">&quot;model&quot;: &quot;YOUR_FINE_TUNED_MODEL_NAME&quot;</span>
<a id="__codelineno-15-8" name="__codelineno-15-8"></a><span class="s1">}&#39;</span>
</code></pre></div></td></tr></table></div>
<p>它将返回 <code>yes</code> 或 <code>no</code>。</p>
<h3 id="case-study-sentiment-analysis">Case study: Sentiment analysis<a class="headerlink" href="#case-study-sentiment-analysis" title="Permanent link">&para;</a></h3>
<p>Let's say you'd like to get a degree to which a particular tweet is positive or negative. The dataset might look something like the following:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="p">{</span><span class="w"> </span><span class="nt">&quot;prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Overjoyed with the new iPhone! -&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;completion&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; positive&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span>
<span class="normal"><a href="#__codelineno-17-2">2</a></span>
<span class="normal"><a href="#__codelineno-17-3">3</a></span>
<span class="normal"><a href="#__codelineno-17-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="w">  </span><span class="nt">&quot;prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;@lakers disappoint for a third straight night https://t.co/38EFe43 -&gt;&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="w">  </span><span class="nt">&quot;completion&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; negative&quot;</span><span class="w"></span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>Once the model is fine-tuned, you can get back the log probabilities for the first completion token by setting logprobs=2 on the completion request. The higher the probability for positive class, the higher the relative sentiment.</p>
<p>Now we can query our model by making a Completion request.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span>
<span class="normal"><a href="#__codelineno-18-2">2</a></span>
<span class="normal"><a href="#__codelineno-18-3">3</a></span>
<span class="normal"><a href="#__codelineno-18-4">4</a></span>
<span class="normal"><a href="#__codelineno-18-5">5</a></span>
<span class="normal"><a href="#__codelineno-18-6">6</a></span>
<span class="normal"><a href="#__codelineno-18-7">7</a></span>
<span class="normal"><a href="#__codelineno-18-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a>curl https://api.openai.com/v1/completions <span class="se">\</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a> -H <span class="s1">&#39;Content-Type: application/json&#39;</span> <span class="se">\</span>
<a id="__codelineno-18-3" name="__codelineno-18-3"></a> -H <span class="s1">&#39;Authorization: Bearer YOUR_API_KEY&#39;</span> <span class="se">\</span>
<a id="__codelineno-18-4" name="__codelineno-18-4"></a> -d <span class="s1">&#39;{</span>
<a id="__codelineno-18-5" name="__codelineno-18-5"></a><span class="s1">&quot;prompt&quot;: &quot;https://t.co/f93xEd2 Excited to share my latest blog post! -&gt;&quot;,</span>
<a id="__codelineno-18-6" name="__codelineno-18-6"></a><span class="s1">&quot;max_tokens&quot;: 1,</span>
<a id="__codelineno-18-7" name="__codelineno-18-7"></a><span class="s1">&quot;model&quot;: &quot;YOUR_FINE_TUNED_MODEL_NAME&quot;</span>
<a id="__codelineno-18-8" name="__codelineno-18-8"></a><span class="s1">}&#39;</span>
</code></pre></div></td></tr></table></div>
<p>Which will return:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-19-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-19-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-19-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-19-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-19-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-19-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-19-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-19-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-19-10">10</a></span>
<span class="normal"><a href="#__codelineno-19-11">11</a></span>
<span class="normal"><a href="#__codelineno-19-12">12</a></span>
<span class="normal"><a href="#__codelineno-19-13">13</a></span>
<span class="normal"><a href="#__codelineno-19-14">14</a></span>
<span class="normal"><a href="#__codelineno-19-15">15</a></span>
<span class="normal"><a href="#__codelineno-19-16">16</a></span>
<span class="normal"><a href="#__codelineno-19-17">17</a></span>
<span class="normal"><a href="#__codelineno-19-18">18</a></span>
<span class="normal"><a href="#__codelineno-19-19">19</a></span>
<span class="normal"><a href="#__codelineno-19-20">20</a></span>
<span class="normal"><a href="#__codelineno-19-21">21</a></span>
<span class="normal"><a href="#__codelineno-19-22">22</a></span>
<span class="normal"><a href="#__codelineno-19-23">23</a></span>
<span class="normal"><a href="#__codelineno-19-24">24</a></span>
<span class="normal"><a href="#__codelineno-19-25">25</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cmpl-COMPLETION_ID&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="w">  </span><span class="nt">&quot;object&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text_completion&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-19-4" name="__codelineno-19-4"></a><span class="w">  </span><span class="nt">&quot;created&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1589498378</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="w">  </span><span class="nt">&quot;model&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;YOUR_FINE_TUNED_MODEL_NAME&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-19-6" name="__codelineno-19-6"></a><span class="w">  </span><span class="nt">&quot;choices&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a id="__codelineno-19-7" name="__codelineno-19-7"></a><span class="w">    </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-19-8" name="__codelineno-19-8"></a><span class="w">      </span><span class="nt">&quot;logprobs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-19-9" name="__codelineno-19-9"></a><span class="w">        </span><span class="nt">&quot;text_offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w"></span>
<a id="__codelineno-19-10" name="__codelineno-19-10"></a><span class="w">        </span><span class="nt">&quot;token_logprobs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">-0.03597255</span><span class="p">],</span><span class="w"></span>
<a id="__codelineno-19-11" name="__codelineno-19-11"></a><span class="w">        </span><span class="nt">&quot;tokens&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot; positive&quot;</span><span class="p">],</span><span class="w"></span>
<a id="__codelineno-19-12" name="__codelineno-19-12"></a><span class="w">        </span><span class="nt">&quot;top_logprobs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a id="__codelineno-19-13" name="__codelineno-19-13"></a><span class="w">          </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-19-14" name="__codelineno-19-14"></a><span class="w">            </span><span class="nt">&quot; negative&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-4.9785037</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-19-15" name="__codelineno-19-15"></a><span class="w">            </span><span class="nt">&quot; positive&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.03597255</span><span class="w"></span>
<a id="__codelineno-19-16" name="__codelineno-19-16"></a><span class="w">          </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-19-17" name="__codelineno-19-17"></a><span class="w">        </span><span class="p">]</span><span class="w"></span>
<a id="__codelineno-19-18" name="__codelineno-19-18"></a><span class="w">      </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-19-19" name="__codelineno-19-19"></a>
<a id="__codelineno-19-20" name="__codelineno-19-20"></a><span class="w">      </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; positive&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-19-21" name="__codelineno-19-21"></a><span class="w">      </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-19-22" name="__codelineno-19-22"></a><span class="w">      </span><span class="nt">&quot;finish_reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;length&quot;</span><span class="w"></span>
<a id="__codelineno-19-23" name="__codelineno-19-23"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-19-24" name="__codelineno-19-24"></a><span class="w">  </span><span class="p">]</span><span class="w"></span>
<a id="__codelineno-19-25" name="__codelineno-19-25"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<h3 id="case-study-categorization-for-email-triage">Case study: Categorization for Email triage<a class="headerlink" href="#case-study-categorization-for-email-triage" title="Permanent link">&para;</a></h3>
<p>Let's say you'd like to categorize incoming email into one of a large number of predefined categories. For classification into a large number of categories, we recommend you convert those categories into numbers, which will work well up to ~500 categories. We've observed that adding a space before the number sometimes slightly helps the performance, due to tokenization. You may want to structure your training data as follows:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="o">{</span><span class="s2">&quot;prompt&quot;</span>:<span class="s2">&quot;Subject: &lt;email_subject&gt;\nFrom:&lt;customer_name&gt;\nDate:&lt;date&gt;\nContent:&lt;email_body&gt;\n\n###\n\n&quot;</span>, <span class="s2">&quot;completion&quot;</span>:<span class="s2">&quot; &lt;numerical_category&gt;&quot;</span><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>For example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="o">{</span><span class="s2">&quot;prompt&quot;</span>:<span class="s2">&quot;Subject: Update my address\nFrom:Joe Doe\nTo:support@ourcompany.com\nDate:2021-06-03\nContent:Hi,\nI would like to update my billing address to match my delivery address.\n\nPlease let me know once done.\n\nThanks,\nJoe\n\n###\n\n&quot;</span>, <span class="s2">&quot;completion&quot;</span>:<span class="s2">&quot; 4&quot;</span><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>In the example above we used an incoming email capped at 2043 tokens as input. (This allows for a 4 token separator and a one token completion, summing up to 2048.) As a separator we used \n\n###\n\n and we removed any occurrence of ### within the email.</p>
<h2 id="conditional-generation">Conditional generation<a class="headerlink" href="#conditional-generation" title="Permanent link">&para;</a></h2>
<p>Conditional generation is a problem where the content needs to be generated given some kind of input. This includes paraphrasing, summarizing, entity extraction, product description writing given specifications, chatbots and many others. For this type of problem we recommend:</p>
<ul>
<li>Use a separator at the end of the prompt, e.g. \n\n###\n\n. Remember to also append this separator when you eventually make requests to your model.</li>
<li>Use an ending token at the end of the completion, e.g. END</li>
<li>Remember to add the ending token as a stop sequence during inference, e.g. stop=[" END"]</li>
<li>Aim for at least ~500 examples</li>
<li>Ensure that the prompt + completion doesn't exceed 2048 tokens, including the separator</li>
<li>Ensure the examples are of high quality and follow the same desired format</li>
<li>Ensure that the dataset used for finetuning is very similar in structure and type of task as what the model will be used for</li>
<li>Using Lower learning rate and only 1-2 epochs tends to work better for these use cases</li>
</ul>
<h3 id="case-study-write-an-engaging-ad-based-on-a-wikipedia-article">Case study: Write an engaging ad based on a Wikipedia article<a class="headerlink" href="#case-study-write-an-engaging-ad-based-on-a-wikipedia-article" title="Permanent link">&para;</a></h3>
<p>This is a generative use case so you would want to ensure that the samples you provide are of the highest quality, as the fine-tuned model will try to imitate the style (and mistakes) of the given examples. A good starting point is around 500 examples. A sample dataset might look like this:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="o">{</span><span class="s2">&quot;prompt&quot;</span>:<span class="s2">&quot;&lt;Product Name&gt;\n&lt;Wikipedia description&gt;\n\n###\n\n&quot;</span>, <span class="s2">&quot;completion&quot;</span>:<span class="s2">&quot; &lt;engaging ad&gt; END&quot;</span><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>For example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1">1</a></span>
<span class="normal"><a href="#__codelineno-23-2">2</a></span>
<span class="normal"><a href="#__codelineno-23-3">3</a></span>
<span class="normal"><a href="#__codelineno-23-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="w">  </span><span class="nt">&quot;prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Samsung Galaxy Feel\nThe Samsung Galaxy Feel is an Android smartphone developed by Samsung Electronics exclusively for the Japanese market. The phone was released in June 2017 and was sold by NTT Docomo. It runs on Android 7.0 (Nougat), has a 4.7 inch display, and a 3000 mAh battery.\nSoftware\nSamsung Galaxy Feel runs on Android 7.0 (Nougat), but can be later updated to Android 8.0 (Oreo).\nHardware\nSamsung Galaxy Feel has a 4.7 inch Super AMOLED HD display, 16 MP back facing and 5 MP front facing cameras. It has a 3000 mAh battery, a 1.6 GHz Octa-Core ARM Cortex-A53 CPU, and an ARM Mali-T830 MP1 700 MHz GPU. It comes with 32GB of internal storage, expandable to 256GB via microSD. Aside from its software and hardware specifications, Samsung also introduced a unique a hole in the phone&#39;s shell to accommodate the Japanese perceived penchant for personalizing their mobile phones. The Galaxy Feel&#39;s battery was also touted as a major selling point since the market favors handsets with longer battery life. The device is also waterproof and supports 1seg digital broadcasts using an antenna that is sold separately.\n\n###\n\n&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="w">  </span><span class="nt">&quot;completion&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Looking for a smartphone that can do it all? Look no further than Samsung Galaxy Feel! With a slim and sleek design, our latest smartphone features high-quality picture and video capabilities, as well as an award winning battery life. END&quot;</span><span class="w"></span>
<a id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>Here we used a multi line separator, as Wikipedia articles contain multiple paragraphs and headings. We also used a simple end token, to ensure that the model knows when the completion should finish.</p>
<h3 id="case-study-entity-extraction">Case study: Entity extraction<a class="headerlink" href="#case-study-entity-extraction" title="Permanent link">&para;</a></h3>
<p>This is similar to a language transformation task. To improve the performance, it is best to either sort different extracted entities alphabetically or in the same order as they appear in the original text. This will help the model to keep track of all the entities which need to be generated in order. The dataset could look as follows:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1">1</a></span>
<span class="normal"><a href="#__codelineno-24-2">2</a></span>
<span class="normal"><a href="#__codelineno-24-3">3</a></span>
<span class="normal"><a href="#__codelineno-24-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-24-2" name="__codelineno-24-2"></a><span class="w">  </span><span class="nt">&quot;prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;any text, for example news article&gt;\n\n###\n\n&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-24-3" name="__codelineno-24-3"></a><span class="w">  </span><span class="nt">&quot;completion&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; &lt;list of entities, separated by a newline&gt; END&quot;</span><span class="w"></span>
<a id="__codelineno-24-4" name="__codelineno-24-4"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>For example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span>
<span class="normal"><a href="#__codelineno-25-2">2</a></span>
<span class="normal"><a href="#__codelineno-25-3">3</a></span>
<span class="normal"><a href="#__codelineno-25-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-25-2" name="__codelineno-25-2"></a><span class="w">  </span><span class="nt">&quot;prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Portugal will be removed from the UK&#39;s green travel list from Tuesday, amid rising coronavirus cases and concern over a \&quot;Nepal mutation of the so-called Indian variant\&quot;. It will join the amber list, meaning holidaymakers should not visit and returnees must isolate for 10 days...\n\n###\n\n&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-25-3" name="__codelineno-25-3"></a><span class="w">  </span><span class="nt">&quot;completion&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; Portugal\nUK\nNepal mutation\nIndian variant END&quot;</span><span class="w"></span>
<a id="__codelineno-25-4" name="__codelineno-25-4"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>A multi-line separator works best, as the text will likely contain multiple lines. Ideally there will be a high diversity of the types of input prompts (news articles, Wikipedia pages, tweets, legal documents), which reflect the likely texts which will be encountered when extracting entities.</p>
<h3 id="case-study-customer-support-chatbot">Case study: Customer support chatbot<a class="headerlink" href="#case-study-customer-support-chatbot" title="Permanent link">&para;</a></h3>
<p>A chatbot will normally contain relevant context about the conversation (order details), summary of the conversation so far as well as most recent messages. For this use case the same past conversation can generate multiple rows in the dataset, each time with a slightly different context, for every agent generation as a completion. This use case will require a few thousand examples, as it will likely deal with different types of requests, and customer issues. To ensure the performance is of high quality we recommend vetting the conversation samples to ensure the quality of agent messages. The summary can be generated with a separate text transformation fine tuned model. The dataset could look as follows:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span>
<span class="normal"><a href="#__codelineno-26-2">2</a></span>
<span class="normal"><a href="#__codelineno-26-3">3</a></span>
<span class="normal"><a href="#__codelineno-26-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-26-2" name="__codelineno-26-2"></a><span class="w">  </span><span class="nt">&quot;prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Summary: &lt;summary of the interaction so far&gt;\n\nSpecific information:&lt;for example order details in natural language&gt;\n\n###\n\nCustomer: &lt;message1&gt;\nAgent: &lt;response1&gt;\nCustomer: &lt;message2&gt;\nAgent:&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-26-3" name="__codelineno-26-3"></a><span class="w">  </span><span class="nt">&quot;completion&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; &lt;response2&gt;\n&quot;</span><span class="w"></span>
<a id="__codelineno-26-4" name="__codelineno-26-4"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span>
<span class="normal"><a href="#__codelineno-27-3">3</a></span>
<span class="normal"><a href="#__codelineno-27-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="w">  </span><span class="nt">&quot;prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Summary: &lt;summary of the interaction so far&gt;\n\nSpecific information:&lt;for example order details in natural language&gt;\n\n###\n\nCustomer: &lt;message1&gt;\nAgent: &lt;response1&gt;\nCustomer: &lt;message2&gt;\nAgent: &lt;response2&gt;\nCustomer: &lt;message3&gt;\nAgent:&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="w">  </span><span class="nt">&quot;completion&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; &lt;response3&gt;\n&quot;</span><span class="w"></span>
<a id="__codelineno-27-4" name="__codelineno-27-4"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>Here we purposefully separated different types of input information, but maintained Customer Agent dialog in the same format between a prompt and a completion. All the completions should only be by the agent, and we can use \n as a stop sequence when doing inference.</p>
<p>Case study: Product description based on a technical list of properties
Here it is important to convert the input data into a natural language, which will likely lead to superior performance. For example, the following format:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span>
<span class="normal"><a href="#__codelineno-28-2">2</a></span>
<span class="normal"><a href="#__codelineno-28-3">3</a></span>
<span class="normal"><a href="#__codelineno-28-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a><span class="w">  </span><span class="nt">&quot;prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Item=handbag, Color=army_green, price=$99, size=S-&gt;&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-28-3" name="__codelineno-28-3"></a><span class="w">  </span><span class="nt">&quot;completion&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; This stylish small green handbag will add a unique touch to your look, without costing you a fortune.&quot;</span><span class="w"></span>
<a id="__codelineno-28-4" name="__codelineno-28-4"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>Won't work as well as:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1">1</a></span>
<span class="normal"><a href="#__codelineno-29-2">2</a></span>
<span class="normal"><a href="#__codelineno-29-3">3</a></span>
<span class="normal"><a href="#__codelineno-29-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-29-2" name="__codelineno-29-2"></a><span class="w">  </span><span class="nt">&quot;prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Item is a handbag. Colour is army green. Price is midrange. Size is small.-&gt;&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-29-3" name="__codelineno-29-3"></a><span class="w">  </span><span class="nt">&quot;completion&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; This stylish small green handbag will add a unique touch to your look, without costing you a fortune.&quot;</span><span class="w"></span>
<a id="__codelineno-29-4" name="__codelineno-29-4"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>For high performance ensure that the completions were based on the description provided. If external content is often consulted, then adding such content in an automated way would improve the performance. If the description is based on images, it may help to use an algorithm to extract a textual description of the image. Since completions are only one sentence long, we can use . as the stop sequence during inference.</p>
<h2 id="advanced-usage">Advanced usage<a class="headerlink" href="#advanced-usage" title="Permanent link">&para;</a></h2>
<h3 id="customize-your-model-name">Customize your model name<a class="headerlink" href="#customize-your-model-name" title="Permanent link">&para;</a></h3>
<p>You can add a suffix of up to 40 characters to your fine-tuned model name using the suffix parameter.</p>
<p>OpenAI CLI:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a>openai api fine_tunes.create -t test.jsonl -m ada --suffix <span class="s2">&quot;custom model name&quot;</span>
</code></pre></div></td></tr></table></div>
<p>The resulting name would be:</p>
<p>ada:ft-your-org:custom-model-name-2022-02-15-04-21-04</p>
<h3 id="analyzing-your-fine-tuned-model">Analyzing your fine-tuned model<a class="headerlink" href="#analyzing-your-fine-tuned-model" title="Permanent link">&para;</a></h3>
<p>We attach a result file to each job once it has been completed. This results file ID will be listed when you retrieve a fine-tune, and also when you look at the events on a fine-tune. You can download these files:</p>
<p>OpenAI CLI:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a>openai api fine_tunes.results -i &lt;YOUR_FINE_TUNE_JOB_ID&gt;
</code></pre></div></td></tr></table></div>
<p>CURL:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span>
<span class="normal"><a href="#__codelineno-32-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a>curl https://api.openai.com/v1/files/<span class="nv">$RESULTS_FILE_ID</span>/content <span class="se">\</span>
<a id="__codelineno-32-2" name="__codelineno-32-2"></a> -H <span class="s2">&quot;Authorization: Bearer </span><span class="nv">$OPENAI_API_KEY</span><span class="s2">&quot;</span> &gt; results.csv
</code></pre></div></td></tr></table></div>
<p>The <code>_results.csv</code> file contains a row for each training step, where a step refers to one forward and backward pass on a batch of data. In addition to the step number, each row contains the following fields corresponding to that step:</p>
<ul>
<li><strong>elapsed_tokens</strong>: the number of tokens the model has seen so far (including repeats)</li>
<li><strong>elapsed_examples</strong>: the number of examples the model has seen so far (including repeats), where one example is one element in your batch. For example, if batch_size = 4, each step will increase elapsed_examples by 4.</li>
<li><strong>training_loss</strong>: loss on the training batch</li>
<li><strong>training_sequence_accuracy</strong>: the percentage of completions in the training batch for which the model's predicted tokens matched the true completion tokens exactly. For example, with a batch_size of 3, if your data contains the completions [[1, 2], [0, 5], [4, 2]] and the model predicted [[1, 1], [0, 5], [4, 2]], this accuracy will be &#8532; = 0.67</li>
<li><strong>training_token_accuracy</strong>: the percentage of tokens in the training batch that were correctly predicted by the model. For example, with a batch_size of 3, if your data contains the completions [[1, 2], [0, 5], [4, 2]] and the model predicted [[1, 1], [0, 5], [4, 2]], this accuracy will be &#8538; = 0.83</li>
</ul>
<h3 id="classification-specific-metrics">Classification specific metrics<a class="headerlink" href="#classification-specific-metrics" title="Permanent link">&para;</a></h3>
<p>We also provide the option of generating additional classification-specific metrics in the results file, such as accuracy and weighted F1 score. These metrics are periodically calculated against the full validation set and at the end of fine-tuning. You will see them as additional columns in your results file.</p>
<p>To enable this, set the parameter --compute_classification_metrics. Additionally, you must provide a validation file, and set either the classification_n_classes parameter, for multiclass classification, or classification_positive_class, for binary classification.</p>
<p>OpenAI CLI:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-33-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-33-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-33-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-33-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-33-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-33-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-33-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-33-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-33-10">10</a></span>
<span class="normal"><a href="#__codelineno-33-11">11</a></span>
<span class="normal"><a href="#__codelineno-33-12">12</a></span>
<span class="normal"><a href="#__codelineno-33-13">13</a></span>
<span class="normal"><a href="#__codelineno-33-14">14</a></span>
<span class="normal"><a href="#__codelineno-33-15">15</a></span>
<span class="normal"><a href="#__codelineno-33-16">16</a></span>
<span class="normal"><a href="#__codelineno-33-17">17</a></span>
<span class="normal"><a href="#__codelineno-33-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="c1"># For multiclass classification</span>
<a id="__codelineno-33-2" name="__codelineno-33-2"></a>
<a id="__codelineno-33-3" name="__codelineno-33-3"></a>openai api fine_tunes.create <span class="se">\</span>
<a id="__codelineno-33-4" name="__codelineno-33-4"></a> -t &lt;TRAIN_FILE_ID_OR_PATH&gt; <span class="se">\</span>
<a id="__codelineno-33-5" name="__codelineno-33-5"></a> -v &lt;VALIDATION_FILE_OR_PATH&gt; <span class="se">\</span>
<a id="__codelineno-33-6" name="__codelineno-33-6"></a> -m &lt;MODEL&gt; <span class="se">\</span>
<a id="__codelineno-33-7" name="__codelineno-33-7"></a> --compute_classification_metrics <span class="se">\</span>
<a id="__codelineno-33-8" name="__codelineno-33-8"></a> --classification_n_classes &lt;N_CLASSES&gt;
<a id="__codelineno-33-9" name="__codelineno-33-9"></a>
<a id="__codelineno-33-10" name="__codelineno-33-10"></a><span class="c1"># For binary classification</span>
<a id="__codelineno-33-11" name="__codelineno-33-11"></a>
<a id="__codelineno-33-12" name="__codelineno-33-12"></a>openai api fine_tunes.create <span class="se">\</span>
<a id="__codelineno-33-13" name="__codelineno-33-13"></a> -t &lt;TRAIN_FILE_ID_OR_PATH&gt; <span class="se">\</span>
<a id="__codelineno-33-14" name="__codelineno-33-14"></a> -v &lt;VALIDATION_FILE_OR_PATH&gt; <span class="se">\</span>
<a id="__codelineno-33-15" name="__codelineno-33-15"></a> -m &lt;MODEL&gt; <span class="se">\</span>
<a id="__codelineno-33-16" name="__codelineno-33-16"></a> --compute_classification_metrics <span class="se">\</span>
<a id="__codelineno-33-17" name="__codelineno-33-17"></a> --classification_n_classes <span class="m">2</span> <span class="se">\</span>
<a id="__codelineno-33-18" name="__codelineno-33-18"></a> --classification_positive_class &lt;POSITIVE_CLASS_FROM_DATASET&gt;
</code></pre></div></td></tr></table></div>
<p>The following metrics will be displayed in your results file if you set --compute_classification_metrics:</p>
<h3 id="for-multiclass-classification">For multiclass classification<a class="headerlink" href="#for-multiclass-classification" title="Permanent link">&para;</a></h3>
<ul>
<li>classification/accuracy: accuracy</li>
<li>classification/weighted_f1_score: weighted F-1 score</li>
</ul>
<h3 id="for-binary-classification">For binary classification<a class="headerlink" href="#for-binary-classification" title="Permanent link">&para;</a></h3>
<p>The following metrics are based on a classification threshold of 0.5 (i.e. when the probability is &gt; 0.5, an example is classified as belonging to the positive class.)</p>
<ul>
<li>classification/accuracy</li>
<li>classification/precision</li>
<li>classification/recall</li>
<li>classification/f{beta}</li>
<li>classification/auroc - AUROC</li>
<li>classification/auprc - AUPRC</li>
</ul>
<p>Note that these evaluations assume that you are using text labels for classes that tokenize down to a single token, as described above. If these conditions do not hold, the numbers you get will likely be wrong.</p>
<h3 id="validation">Validation<a class="headerlink" href="#validation" title="Permanent link">&para;</a></h3>
<p>You can reserve some of your data for validation. A validation file has exactly the same format as a train file, and your train and validation data should be mutually exclusive.</p>
<p>If you include a validation file when creating your fine-tune job, the generated results file will include evaluations on how well the fine-tuned model performs against your validation data at periodic intervals during training.</p>
<p>OpenAI CLI:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1">1</a></span>
<span class="normal"><a href="#__codelineno-34-2">2</a></span>
<span class="normal"><a href="#__codelineno-34-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1"></a>openai api fine_tunes.create -t &lt;TRAIN_FILE_ID_OR_PATH&gt; <span class="se">\</span>
<a id="__codelineno-34-2" name="__codelineno-34-2"></a> -v &lt;VALIDATION_FILE_ID_OR_PATH&gt; <span class="se">\</span>
<a id="__codelineno-34-3" name="__codelineno-34-3"></a> -m &lt;MODEL&gt;
</code></pre></div></td></tr></table></div>
<p>If you provided a validation file, we periodically calculate metrics on batches of validation data during training time. You will see the following additional metrics in your results file:</p>
<ul>
<li>validation_loss: loss on the validation batch</li>
<li>validation_sequence_accuracy: the percentage of completions in the validation batch for which the model's predicted tokens matched the true completion tokens exactly. For example, with a batch_size of 3, if your data contains the completion [[1, 2], [0, 5], [4, 2]] and the model predicted [[1, 1], [0, 5], [4, 2]], this accuracy will be &#8532; = 0.67</li>
<li>validation_token_accuracy: the percentage of tokens in the validation batch that were correctly predicted by the model. For example, with a batch_size of 3, if your data contains the completion [[1, 2], [0, 5], [4, 2]] and the model predicted [[1, 1], [0, 5], [4, 2]], this accuracy will be &#8538; = 0.83</li>
</ul>
<h2 id="hyperparameters">Hyperparameters<a class="headerlink" href="#hyperparameters" title="Permanent link">&para;</a></h2>
<p>We've picked default hyperparameters that work well across a range of use cases. The only required parameter is the training file.</p>
<p>That said, tweaking the hyperparameters used for fine-tuning can often lead to a model that produces higher quality output. In particular, you may want to configure the following:</p>
<ul>
<li>model: The name of the base model to fine-tune. You can select one of "ada", "babbage", "curie", or "davinci". To learn more about these models, see the Models documentation.</li>
<li>n_epochs - defaults to 4. The number of epochs to train the model for. An epoch refers to one full cycle through the training dataset.</li>
<li>batch_size - defaults to ~0.2% of the number of examples in the training set, capped at 256. The batch size is the number of training examples used to train a single forward and backward pass. In general, we've found that larger batch sizes tend to work better for larger datasets.</li>
<li>learning_rate_multiplier - defaults to 0.05, 0.1, or 0.2 depending on final batch_size. The fine-tuning learning rate is the original learning rate used for pretraining multiplied by this multiplier. We recommend experimenting with values in the range 0.02 to 0.2 to see what produces the best results. Empirically, we've found that larger learning rates often perform better with larger batch sizes.</li>
<li>compute_classification_metrics - defaults to False. If True, for fine-tuning for classification tasks, computes classification-specific metrics (accuracy, F-1 score, etc) on the validation set at the end of every epoch.</li>
</ul>
<p>To configure these additional hyperparameters, pass them in via command line flags on the OpenAI CLI, for example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1">1</a></span>
<span class="normal"><a href="#__codelineno-35-2">2</a></span>
<span class="normal"><a href="#__codelineno-35-3">3</a></span>
<span class="normal"><a href="#__codelineno-35-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a>openai api fine_tunes.create <span class="se">\</span>
<a id="__codelineno-35-2" name="__codelineno-35-2"></a> -t file-JD89ePi5KMsB3Tayeli5ovfW <span class="se">\</span>
<a id="__codelineno-35-3" name="__codelineno-35-3"></a> -m ada <span class="se">\</span>
<a id="__codelineno-35-4" name="__codelineno-35-4"></a> --n_epochs <span class="m">1</span>
</code></pre></div></td></tr></table></div>
<h3 id="continue-fine-tuning-from-a-fine-tuned-model">Continue fine-tuning from a fine-tuned model<a class="headerlink" href="#continue-fine-tuning-from-a-fine-tuned-model" title="Permanent link">&para;</a></h3>
<p>If you have already fine-tuned a model for your task and now have additional training data that you would like to incorporate, you can continue fine-tuning from the model. This creates a model that has learned from all of the training data without having to re-train from scratch.</p>
<p>To do this, pass in the fine-tuned model name when creating a new fine-tuning job (e.g. -m curie:ft-<org>-<date>). Other training parameters do not have to be changed, however if your new training data is much smaller than your previous training data, you may find it useful to reduce learning_rate_multiplier by a factor of 2 to 4.</p>
<p>Weights &amp; Biases
You can sync your fine-tunes with Weights &amp; Biases to track experiments, models, and datasets.</p>
<p>To get started, you will need a Weights &amp; Biases account and a paid OpenAI plan. To make sure you are using the lastest version of openai and wandb, run:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a>pip install --upgrade openai wandb
</code></pre></div></td></tr></table></div>
<p>To sync your fine-tunes with Weights &amp; Biases, run:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1"></a>openai wandb sync
</code></pre></div></td></tr></table></div>
<p>You can read the Weights &amp; Biases documentation for more information on this integration.</p>
<h2 id="example-notebooks">Example notebooks<a class="headerlink" href="#example-notebooks" title="Permanent link">&para;</a></h2>
<h3 id="classification">Classification<a class="headerlink" href="#classification" title="Permanent link">&para;</a></h3>
<p>finetuning-classification.ipynb
This notebook will demonstrate how to fine-tune a model that can classify whether a piece of input text is related to Baseball or Hockey. We will perform this task in four steps in the notebook:</p>
<ol>
<li>Data exploration will give an overview of the data source and what an example looks like</li>
<li>Data preparation will turn our data source into a jsonl file that can be used for fine-tuning</li>
<li>Fine-tuning will kick off the fine-tuning job and explain the resulting model's performance</li>
<li>Using the model will demonstrate making requests to the fine-tuned model to get predictions.</li>
</ol>
<h3 id="question-answering">Question answering<a class="headerlink" href="#question-answering" title="Permanent link">&para;</a></h3>
<p>olympics-1-collect-data.ipynbolympics-2-create-qa.ipynbolympics-3-train-qa.ipynb
The idea of this project is to create a question answering model, based on a few paragraphs of provided text. Base GPT-3 models do a good job at answering questions when the answer is contained within the paragraph, however if the answer isn't contained, the base models tend to try their best to answer anyway, often leading to confabulated answers.</p>
<p>To create a model which answers questions only if there is sufficient context for doing so, we first create a dataset of questions and answers based on paragraphs of text. In order to train the model to answer only when the answer is present, we also add adversarial examples, where the question doesn't match the context. In those cases, we ask the model to output "No sufficient context for answering the question".</p>
<p>We will perform this task in three notebooks:</p>
<p>The first notebook focuses on collecting recent data, which GPT-3 didn't see during it's pre-training. We picked the topic of Olympic Games 2020 (which actually took place in the summer of 2021), and downloaded 713 unique pages. We organized the dataset by individual sections, which will serve as context for asking and answering the questions.
The second notebook will utilize Davinci-instruct to ask a few questions based on a Wikipedia section, as well as answer those questions, based on that section.
The third notebook will utilize the dataset of context, question and answer pairs to additionally create adversarial questions and context pairs, where the question was not generated on that context. In those cases the model will be prompted to answer "No sufficient context for answering the question". We will also train a discriminator model, which predicts whether the question can be answered based on the context or not.</p>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            回到页面顶部
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="页脚" >
      
        
        <a href="../images/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 图像生成" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                上一页
              </span>
              图像生成
            </div>
          </div>
        </a>
      
      
        
        <a href="../embedding/" class="md-footer__link md-footer__link--next" aria-label="下一页: 嵌入" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                下一页
              </span>
              嵌入
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      版权所有 © 2017-2023 MIT by OpenAI
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="https://twitter.com/openai" target="_blank" rel="noopener" title="OpenAI Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    <a href="https://github.com/openai" target="_blank" rel="noopener" title="OpenAI Github" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    <a href="https://instagram.com/openai" target="_blank" rel="noopener" title="OpenAI Instagram" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg>
    </a>
  
    
    
    <a href="https://openai.com/apps" target="_blank" rel="noopener" title="OpenAI Blog" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M162.4 196c4.8-4.9 6.2-5.1 36.4-5.1 27.2 0 28.1.1 32.1 2.1 5.8 2.9 8.3 7 8.3 13.6 0 5.9-2.4 10-7.6 13.4-2.8 1.8-4.5 1.9-31.1 2.1-16.4.1-29.5-.2-31.5-.8-10.3-2.9-14.1-17.7-6.6-25.3zm61.4 94.5c-53.9 0-55.8.2-60.2 4.1-3.5 3.1-5.7 9.4-5.1 13.9.7 4.7 4.8 10.1 9.2 12 2.2 1 14.1 1.7 56.3 1.2l47.9-.6 9.2-1.5c9-5.1 10.5-17.4 3.1-24.4-5.3-4.7-5-4.7-60.4-4.7zm223.4 130.1c-3.5 28.4-23 50.4-51.1 57.5-7.2 1.8-9.7 1.9-172.9 1.8-157.8 0-165.9-.1-172-1.8-8.4-2.2-15.6-5.5-22.3-10-5.6-3.8-13.9-11.8-17-16.4-3.8-5.6-8.2-15.3-10-22C.1 423 0 420.3 0 256.3 0 93.2 0 89.7 1.8 82.6 8.1 57.9 27.7 39 53 33.4c7.3-1.6 332.1-1.9 340-.3 21.2 4.3 37.9 17.1 47.6 36.4 7.7 15.3 7-1.5 7.3 180.6.2 115.8 0 164.5-.7 170.5zm-85.4-185.2c-1.1-5-4.2-9.6-7.7-11.5-1.1-.6-8-1.3-15.5-1.7-12.4-.6-13.8-.8-17.8-3.1-6.2-3.6-7.9-7.6-8-18.3 0-20.4-8.5-39.4-25.3-56.5-12-12.2-25.3-20.5-40.6-25.1-3.6-1.1-11.8-1.5-39.2-1.8-42.9-.5-52.5.4-67.1 6.2-27 10.7-46.3 33.4-53.4 62.4-1.3 5.4-1.6 14.2-1.9 64.3-.4 62.8 0 72.1 4 84.5 9.7 30.7 37.1 53.4 64.6 58.4 9.2 1.7 122.2 2.1 133.7.5 20.1-2.7 35.9-10.8 50.7-25.9 10.7-10.9 17.4-22.8 21.8-38.5 3.2-10.9 2.9-88.4 1.7-93.9z"/></svg>
    </a>
  
    
    
    <a href="https://mastodon.social/@openai" target="_blank" rel="noopener" title="OpenAI Mastodon" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.top", "navigation.indexes", "content.code.annotate", "navigation.top"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\uff0c\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>